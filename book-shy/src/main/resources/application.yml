spring:
  application:
    name: book-shy  # ğŸ“› ì„œë¹„ìŠ¤ ì´ë¦„ ì„¤ì •

  profiles:
    active: dev     # âœ… í˜„ì¬ í™œì„±í™”í•  profile ì§€ì • (dev, prod ë“±)
    include: key     # ğŸ” ë³´ì•ˆ ì •ë³´ í¬í•¨í•œ ì™¸ë¶€ yml íŒŒì¼ ë¶„ë¦¬ (application-key.yml)

  data:
    redis:
      host: k12d204.p.ssafy.io
      port: 6379
      password: ${REDIS.PASSWORD}  # ğŸ” ì™¸ë¶€ ì„¤ì •ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°

  kafka:
    bootstrap-servers: ${KAFKA.BOOTSTRAP-SERVERS}  # ğŸ”— Kafka í´ëŸ¬ìŠ¤í„° ì£¼ì†Œ

    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      properties:
        partitioner.class: org.apache.kafka.clients.producer.RoundRobinPartitioner  # ğŸ”„ ë¼ìš´ë“œ ë¡œë¹ˆ íŒŒí‹°ì…”ë„ˆ
        spring.json.add.type.headers: false  # âœ… í—¤ë” ì •ë³´ ìƒëµ
        spring.json.trusted.packages: "*"  # âœ… DTO ì—­ì§ë ¬í™” í—ˆìš© íŒ¨í‚¤ì§€

    consumer:
      group-id: ${KAFKA.CONSUMER.BOOK-GROUP-ID}  # ğŸ‘¥ Kafka ì»¨ìŠˆë¨¸ ê·¸ë£¹ ID
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      auto-offset-reset: earliest  # ğŸ•’ ìµœì´ˆ ì‹œì‘ ì‹œ earliestë¶€í„° ì½ìŒ
      properties:
        spring.json.trusted.packages: "*"  # âœ… DTO ì—­ì§ë ¬í™” í—ˆìš© íŒ¨í‚¤ì§€

    listener:
      ack-mode: manual_immediate  # ğŸ¯ ìˆ˜ë™ ì»¤ë°‹, ë©”ì‹œì§€ ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€

server:
  port: 8080  # ğŸŒ ê¸°ë³¸ í¬íŠ¸ (profileë³„ë¡œ override ê°€ëŠ¥)

logging:
  level:
    root: INFO  # ğŸ“ ë¡œê¹… ë ˆë²¨ (DEBUG/INFO/WARN/ERROR)

management:
  endpoints:
    web:
      exposure:
        include: health,info  # âœ… í—¬ìŠ¤ì²´í¬ ë° ì„œë¹„ìŠ¤ ì •ë³´ ë…¸ì¶œ
  endpoint:
    health:
      show-details: always  # í—¬ìŠ¤ì²´í¬ ìƒì„¸ ì •ë³´ ì‘ë‹µ í¬í•¨

file:
  upload-dir: /home/ubuntu/bookshy/images/coverImage



